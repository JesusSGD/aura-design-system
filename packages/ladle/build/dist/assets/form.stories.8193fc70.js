import{r as g,a as s,j as p}from"./index.7f2ce124.js";import{I as n}from"./input.2c3d71dd.js";import{B as v}from"./button.56f65796.js";import{A as E}from"./alert.7f6ef72a.js";import{G as I}from"./grid.e9a95d44.js";import{C as w}from"./checkbox.4c12383e.js";const k=e=>{const[t,a]=g.exports.useState(e),[o,m]=g.exports.useState(null),[d,u]=g.exports.useState(!1);return{value:t,onChange:N=>{a(N.target.value),u(!0)},error:o,touch:d,reset:()=>a(""),dialog:m,setTouch:u,setValue:a,helpText:o,isHelping:o&&d}},b=e=>{let t={};for(const a in e)t={...t,[a]:k(e[a])};return t},A=(e,t)=>{const[a,o]=g.exports.useState(!1);return g.exports.useEffect(()=>{o(t(e))},[e]),a},x=()=>{const[e,t]=g.exports.useState({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}}),a=r=>t(i=>({...i,isLoading:r})),o=r=>t(i=>({...i,isSubmited:r})),m=r=>t(i=>({...i,info:{...i.info,isError:r}})),d=r=>t(i=>({...i,info:{...i.info,message:r}})),u=()=>{t({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}})};return{state:e,message:e.info.message,setStatus:t,setMessage:d,setIsLoading:a,setSubmited:o,setIsError:m,resetStatus:u}},V=()=>{const e=b({firstName:"",lastName:"",email:"",accept:!1}),{firstName:t,lastName:a,email:o,accept:m}=e;return s("div",{children:p("form",{children:[s(n,{placeholder:"Name",...t}),s(n,{placeholder:"Last name",...a}),s(n,{placeholder:"Email",...o}),s(w,{label:"Accept terms and conditions.",...m})]})})},C=()=>{const e=b({firstName:"",lastName:"",email:""}),{firstName:t,lastName:a,email:o}=e;return s("div",{children:s("form",{children:p(I,{col:"two",children:[s(n,{placeholder:"Name",...t}),s(n,{placeholder:"Last name",...a}),s(n,{placeholder:"Email",...o,classNameContainer:"span-2"})]})})})},O=()=>{const e=x(),t=b({firstName:"",lastName:"",email:""}),{firstName:a,lastName:o,email:m}=t,d=async r=>{r.preventDefault(),e.resetStatus(),e.setIsLoading(!0);const S=await new Promise((N,l)=>{setTimeout(()=>{const f=Math.random()<.5;N({ok:f})},600)});u(S)},u=r=>{if(e.setIsLoading(!1),e.setSubmited(!0),!r.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return p("div",{children:[p("form",{onSubmit:d,children:[s(n,{placeholder:"Name",...a}),s(n,{placeholder:"Last name",...o}),s(n,{placeholder:"Email",...m}),s("div",{className:"inputer",children:s(v,{label:"Submit",isLoadingText:"Loading...",isLoading:e.state.isLoading})})]}),s(E,{state:e.state,isPushTop:!0})]})},P=()=>{const e=x(),t=b({firstName:"",lastName:"",email:""}),{firstName:a,lastName:o,email:m}=t,d=l=>Object.values(l).some(f=>f===!1),u=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,i=A(t,({firstName:l,lastName:f,email:h})=>{let c={};return l.value?(c.firstName=!0,l.dialog(null)):(l.dialog("Name is required."),c.firstName=!1),f.value?(c.lastName=!0,f.dialog(null)):(f.dialog("Name is required."),c.lastName=!1),h.value?u.test(h.value)?(c.email=!0,h.dialog(null)):(h.dialog("Email is not valid."),c.email=!1):(h.dialog("Email is required."),c.email=!1),!d(c)}),S=async l=>{l.preventDefault(),e.resetStatus(),e.setIsLoading(!0);const h=await new Promise((c,W)=>{setTimeout(()=>{const L=Math.random()<.5;c({ok:L})},600)});N(h)},N=l=>{if(e.setIsLoading(!1),e.setSubmited(!0),!l.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return p("div",{children:[p("form",{onSubmit:S,children:[s(n,{placeholder:"Name",...a}),s(n,{placeholder:"Last name",...o}),s(n,{placeholder:"Email",...m}),s("div",{className:"inputer",children:s(v,{label:"Submit",isLoadingText:"Loading...",isLoading:e.state.isLoading,isDisabled:!i})})]}),s(E,{state:e.state,isPushTop:!0})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{C as WithGrid,V as WithHook,O as WithStatus,P as WithValidator};
